# 贪吃蛇游戏
#######特别注意如果出现压缩解压过程可以导致文件夹嵌套无法准确找到音频和图片，保证文件夹没有嵌套就行
一个基于 Pygame 开发的现代化贪吃蛇游戏，具有精美的界面和流畅的游戏体验。本项目不仅实现了经典的贪吃蛇玩法，还添加了多种现代化特性，如动态背景、动画效果、自定义设置和图片皮肤系统等。

## 🆕 最新更新 (v2.1.1)

### 🧹 调试信息清理
- 已彻底移除所有调试信息和 print 输出，游戏运行过程中不会再出现调试日志，界面更为简洁。
- 代码结构更为整洁，便于维护和二次开发。

### ✨ 新功能
- **龙王图片皮肤**：新增龙王主题的图片皮肤，支持128x128高清图片
- **商店分类系统**：新增美观的切换按钮，支持颜色皮肤和图片皮肤分类浏览
- **图片质量优化**：支持128x128像素高清图片，提升图片皮肤显示效果
- **智能图片缩放**：使用高质量缩放算法，保持图片清晰度

### 🎨 界面优化
- **美观的切换按钮**：采用滑块式设计，类似iOS开关效果
- **图标装饰**：颜色模式显示圆形图标，图片模式显示方块图标
- **悬停效果**：按钮悬停时有颜色变化和动画效果
- **分类显示**：清晰的"颜色"和"图片"标签

### 🔧 技术改进
- **图片缓存优化**：提升图片加载性能
- **滚动体验**：图片皮肤页面完全保留下滑功能
- **代码重构**：优化商店系统代码结构
- **错误处理**：增强图片加载的错误处理机制
### 📦 新增皮肤
- **龙王图片皮肤** (1600金币)
  - 高清128x128像素图片
  - 支持蛇头自动旋转
  - 完美适配游戏格子大小

---

## 项目特点
- 🎮 经典游戏玩法
- 🎨 现代化界面设计
- 🌈 动态视觉效果
- ⚙️ 丰富的自定义选项
- 🎯 流畅的游戏体验
- 🖼️ 图片皮肤系统

## 功能特点
### 游戏功能
- 经典的贪吃蛇玩法
- 支持穿墙功能
- 游戏暂停/继续
- 游戏结束提示
- 🧩 拼图游戏：支持3x3、4x4、5x5多种难度，多图片选择，步数统计和时间记录
- 数独游戏：经典数字益智游戏，支持不同难度级别，提供删除和注释功能
- 推箱子游戏：经典益智游戏，玩家需要将箱子推到指定位置，支持多个关卡和星级评价
请保证游戏实现的正确性和可玩性。

### 皮肤系统
- 🎨 **颜色皮肤系统**：200+种不同颜色和形状的皮肤
- 🖼️ **图片皮肤系统**：支持自定义图片作为蛇头和蛇身
- 🔄 **蛇头旋转**：图片皮肤会根据移动方向自动旋转
- 💾 **皮肤缓存**：图片皮肤支持缓存，提高性能
- 🛒 **商店系统**：支持购买颜色皮肤和图片皮肤，分类浏览
- 🎒 **背包系统**：支持装备和管理已购买的皮肤
- 🎯 **分类浏览**：颜色皮肤和图片皮肤分类显示

### 界面特点
- 现代化图形界面
- 动态渐变背景
- 可切换背景图片
- 雪花动画效果
- 蛇形动画效果
- 按钮悬停动画
- 标题浮动动画
- 美观的分类切换按钮

### 控制方式
- 方向键或 WASD 控制蛇的移动
- 空格键暂停/继续游戏
- ESC 键返回主菜单
- 鼠标点击菜单按钮
- 鼠标拖拽滚动商店和背包列表

页面设计要求：
1.主页面有开始游戏和退出游戏
2.设计一个形状类似循环的按钮（放到左下角）可以从backgroud文件夹中读取图片并且将主页面背景切换成该照片、要求连续点击可以切换到下一个，实现循环切换可以切换到默认页面
3.游戏页面设计分数显示放到左上角要求半透明不影响观感，在游戏界面按空格可以暂停，并同时给出选择是继续游戏还是返回主页面（鼠标点击）
4.随机生成五个障碍物，撞上游戏结束，不可生成在食物和蛇头3*3位置内
5.生成设置按钮打开一个设置页面暂时只有往background文件加入电脑文件的功能
6.请保证页面绘制和页面点击的逻辑顺序和功能正确实现，不要出现无法点击的现象
7.提前声明中文的渲染。
8.尽量不要用黑色作为默认的主页面背景可以绘画好看的页面以及和游戏有关的动画

## 项目结构
贪吃蛇建设项目/
├── main.py                 # 游戏入口文件
├── requirements.txt        # 项目依赖
├── backgrounds/            # 背景图片文件夹
├── snake_images/           # 图片皮肤文件夹
├── image_skins.json        # 图片皮肤配置文件
├── skins.json              # 颜色皮肤配置文件
├── player_data.json        # 玩家数据文件
├── 图片皮肤使用说明.md      # 图片皮肤功能说明
└── game/                   # 游戏核心代码
    ├── __init__.py
    ├── constants.py        # 游戏常量
    ├── snake.py           # 蛇类（支持图片皮肤）
    ├── food.py            # 食物类
    ├── game_board.py      # 游戏面板
    ├── menu.py            # 菜单界面
    ├── game_controller.py # 游戏控制器
    ├── pintu_game.py      # 拼图游戏模块
    ├── shop.py            # 商店系统（支持图片皮肤）
    ├── backpack.py        # 背包系统（支持图片皮肤）
    ├── image_skins.py     # 图片皮肤管理模块
    ├── player.py          # 玩家数据管理
    └── ui_elements.py     # UI元素

## 玩家数据说明

玩家的游戏进度、皮肤购买和装备、签到等信息都存储在 `player_data.json` 文件中。该文件结构如下：

```json
{
    "coins": 31142, // 玩家金币数
    "purchased_skins": [ // 已购买皮肤列表
        "littlemouse_image",
        "meiyangyang_image",
        ...
        "sunset_orange_crown"
    ],
    "equipped_skin": "jumping_image", // 当前装备皮肤
    "last_signin_date": "2025-07-11", // 最近签到日期
    "sign_in_streak": 1, // 连续签到天数
    "max_sign_in_streak": 1, // 最长连续签到天数
    "whack_a_mole_date": "2025-07-11", // 最近打地鼠日期
    "whack_a_mole_count": 3 // 当天打地鼠次数
}
```

- 皮肤购买和装备会实时反映在游戏界面。
- 金币可用于购买新皮肤。
- 签到和小游戏（如打地鼠）可获得奖励。
- 所有数据自动保存，无需手动操作。

如需重置或修改玩家数据，可直接编辑 `player_data.json` 文件。

## 安装说明

1. 确保已安装 Python 3.8 或更高版本
2. 安装依赖包：
```bash
pip install -r requirements.txt
```

## 使用说明

1. 运行游戏：
```bash
python main.py
```

2. 游戏控制：
   - 使用方向键或 WASD 控制蛇的移动
   - 空格键暂停/继续游戏
   - ESC 键返回主菜单
   - 鼠标点击菜单按钮

3. 背景切换：
   - 在游戏根目录创建 `backgrounds` 文件夹
   - 将背景图片放入该文件夹（支持 jpg、png、bmp 格式）
   - 点击右上角的按钮切换背景

4. 皮肤系统：
   - **购买皮肤**：点击右上角"商店"按钮，浏览并购买皮肤
   - **装备皮肤**：点击右上角"背包"按钮，选择已购买的皮肤装备
   - **图片皮肤**：支持自定义PNG图片作为蛇头和蛇身
   - **颜色皮肤**：200+种不同颜色和形状的皮肤

## 图片皮肤功能

### 默认图片皮肤
- **默认图片皮肤** (免费)
- **龙形图片皮肤** (2000金币)
- **猫咪图片皮肤** (1500金币)
- **机器人图片皮肤** (1800金币)
- **太空图片皮肤** (2500金币)

### 添加自定义图片皮肤
1. 准备32x32像素的PNG图片文件
2. 将图片放入 `snake_images/` 文件夹
3. 在 `image_skins.json` 中添加配置
4. 重启游戏即可使用

详细说明请参考：[图片皮肤使用说明.md](图片皮肤使用说明.md)

## 代码要求

### 1. 代码风格
-蛇的颜色等可能要修改的属性放入文件中然后读取到程序中进行设定
- 使用清晰的变量和函数命名
- 添加适当的注释说明
- 保持代码结构清晰
-在添加一个功能和修改一个功能时不允许修改其它的功能的代码和布局

2. 功能实现
- 保持原有功能不变
- 新功能要向后兼容
- 确保代码的可维护性
- 避免重复代码
-尽量把不同的功能分成不同的模块放在不同文件实现方便修改和互不干扰
### 3. 性能要求
- 保持游戏运行流畅
- 优化资源使用
- 减少不必要的计算
- 合理使用内存

### 4. 错误处理
- 确保程序不会崩溃

### 5. 界面设计
- 保持界面美观
- 确保交互流畅
- 提供清晰的视觉反馈
- 保持风格现代化

### 6. 代码修改原则
- 不随意修改已实现的功能
- 保持原有代码结构
- 只修改必要的部分
- 确保修改不影响其他功能

## 开发环境
- Python 3.8+
- Pygame 2.0.0+
- Windows 10/11

## 贡献指南
1. Fork 本仓库
2. 创建您的特性分支 (`git checkout -b feature/AmazingFeature`)
3. 提交您的更改 (`git commit -m 'Add some AmazingFeature'`)
4. 推送到分支 (`git push origin feature/AmazingFeature`)
5. 开启一个 Pull Request

## 开发规范
1. 代码风格遵循 PEP 8 规范
2. 所有新功能需要添加相应的注释和文档
3. 确保代码通过基本的测试
4. 保持代码的可读性和可维护

## 背包和商店系统

在主页面右上角做两个按钮分别为背包和商店按钮：
- **背包按钮**：蓝色书包样式，用于管理已购买的皮肤
- **商店按钮**：金色旋转的3D硬币形象，用于购买新皮肤

背包和商店页面是格子类型的展示，背景美观，可以下滑浏览：
- **商店系统**：包含200+种颜色皮肤和多种图片皮肤
- **背包系统**：显示已购买的皮肤，支持装备和使用
- **皮肤存储**：购买记录自动保存到 `player_data.json` 文件
- **游戏展示**：装备的皮肤会在游戏中实时显示

## 打包为exe文件（Windows）

本项目可通过 PyInstaller 打包为独立的exe可执行文件。

### 步骤

1. 安装 PyInstaller

   ```bash
   pip install pyinstaller
   ```

2. 在项目根目录下运行如下命令：

   ```bash
   pyinstaller -F -w \
     --add-data "audio;audio" \
     --add-data "backgrounds;backgrounds" \
     --add-data "snake_images;snake_images" \
     --add-data "game;game" \
     --add-data "image_skins.json;." \
     --add-data "skins.json;." \
     --add-data "player_data.json;." \
     --add-data "current_bg_index.json;." \
     main.py
   ```
   - `-F`：打包成单一exe文件
   - `-w`：不显示命令行窗口（适合纯GUI程序）
   - `--add-data`：包含资源文件夹和数据文件
   - 如需自定义图标，可加 `-i=你的图标.ico`

3. 打包完成后，`dist` 文件夹下会生成 `main.exe`。

4. 注意事项
   - 静态资源（图片、音频等）需与exe保持相对路径一致，或用 `--add-data` 打包。
   - 路径分隔符：Windows下用分号`;`，Linux/Mac下用冒号`:`。
   - 如遇打包问题或缺少依赖，请查阅PyInstaller官方文档或联系开发者。

## 24点游戏

- 入口：活动页面，点击“24点游戏”卡片进入。
- 玩法：系统会随机发4张1~10的数字牌，玩家需用加减乘除和括号将4个数字各用一次，算出24即为成功。
- 操作：键盘输入表达式，点击“提交”按钮验证结果。可点击“换一组”重新发牌。

## 🧩 拼图游戏

- 入口：活动页面，点击“拼图游戏”卡片进入。
- 玩法：将打乱的拼图块重新排列成完整图片，支持3x3、4x4、5x5三种难度选择。
- 操作：
  - 拖动拼图块进行交换
  - R键：重新开始当前游戏
  - ESC键：返回上一级菜单
- 特色：
  - 多图片选择：从多张精美图片中选择喜欢的进行拼图
  - 步数统计：记录完成拼图所用的步数
  - 时间记录：计算完成拼图的时间
  - 难度调整：根据自身水平选择合适的难度等级
pyinstaller -F -w --add-data "audio;audio" --add-data "backgrounds;backgrounds" --add-data "snake_images;snake_images" --add-data "game;game" --add-data "pintu;pintu" --add-data "image_skins.json;." --add-data "skins.json;." --add-data "player_data.json;." --add-data "current_bg_index.json;." --add-data "help.md;." main.py
